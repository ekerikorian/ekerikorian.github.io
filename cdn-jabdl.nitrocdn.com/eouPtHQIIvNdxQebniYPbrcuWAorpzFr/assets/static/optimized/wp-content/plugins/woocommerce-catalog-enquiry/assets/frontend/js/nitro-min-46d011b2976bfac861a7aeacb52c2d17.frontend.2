jQuery(document).ready(function(p){var v=function(e){if(!r(e)){e.addClass("processing").block({message:null,overlayCSS:{background:"#fff",opacity:.6}})}};var r=function(e){return e.is(".processing")||e.parents(".processing").length};var w=function(e){e.removeClass("processing").unblock()};p(window).bind("found_variation",function(e,r){if(r==null){}else{var o={};var t=0;var n=0;var a="";var c="";if(e.hasOwnProperty("target")){a=e.target}else{a="form.variations_form.cart"}p(a).find(".variations select").each(function(){var e=p(this).data("attribute_name")||p(this).attr("name");var r=p(this).val()||"";if(r.length>0){n++}t++;o[e]=r});if(r.hasOwnProperty("id")){c=r.id;p("#product-id-for-enquiry").val(r.id)}else if(r.hasOwnProperty("variation_id")){c=r.variation_id;p("#product-id-for-enquiry").val(r.variation_id)}else{c=p("form.variations_form").attr("data-product_id");p("#product-id-for-enquiry").val(p("form.variations_form").attr("data-product_id"))}var u=catalog_enquiry_front.ajaxurl;var m={action:"add_variation_for_enquiry_mail",product_id:c,variation_data:o};p.post(u,m,function(e){console.log(e)})}}).trigger("found_variation");p("#woocommerce-catalog .catalog-modal .close, #woocommerce-catalog .catalog-modal .btn-default").on("click",function(){p("#responsive").slideToggle(500)});p("#woocommerce-catalog .woocommerce-catalog-enquiry-btn").on("click",function(){p("#woocommerce-catalog #responsive").slideToggle(1e3)});p("#woocommerce-submit-enquiry").on("click",function(){var e=document.getElementById("woocommerce-user-name").value;var r=document.getElementById("woocommerce-user-email").value;var o=document.getElementById("wc_catalog_enq").value;var t=document.getElementById("enquiry-product-type").value;var n=document.getElementById("woocommerce-user-subject")?document.getElementById("woocommerce-user-subject").value:"";var a=document.getElementById("woocommerce-user-phone")?document.getElementById("woocommerce-user-phone").value:"";var c=document.getElementById("woocommerce-user-address")?document.getElementById("woocommerce-user-address").value:"";var u=document.getElementById("woocommerce-user-comment")?document.getElementById("woocommerce-user-comment").value:"";var m=new FormData;var i=catalog_enquiry_front.json_arr;if(i.indexOf("subject")!=-1){n=document.getElementById("woocommerce-user-subject").value}if(i.indexOf("phone")!=-1){a=document.getElementById("woocommerce-user-phone").value}if(i.indexOf("address")!=-1){c=document.getElementById("woocommerce-user-address").value}if(i.indexOf("comment")!=-1){u=document.getElementById("woocommerce-user-comment").value}if(i.indexOf("fileupload")!=-1){var s=jQuery("#woocommerce-user-fileupload");jQuery.each(jQuery(s),function(e,r){jQuery.each(r.files,function(e,r){m.append("fileupload["+e+"]",r)})})}var l=document.getElementById("product-name-for-enquiry").value;var d=document.getElementById("product-url-for-enquiry").value;var f=document.getElementById("product-id-for-enquiry").value;if(typeof catalog_enquiry_front.settings_gen.form_captcha!="undefined"&&typeof catalog_enquiry_front.settings_gen.form_captcha.is_enable!="undefined"&&catalog_enquiry_front.settings_gen.form_captcha.is_enable!==null&&catalog_enquiry_front.settings_gen.form_captcha.is_enable=="Enable"){var _=document.getElementById("woocommerce-catalog-captcha")}if(e==""||e==" "){document.getElementById("msg-for-enquiry-error").innerHTML=catalog_enquiry_front.error_levels.name_required;document.getElementById("woocommerce-user-name").focus();return false}if(r==""||r==" "){document.getElementById("msg-for-enquiry-error").innerHTML=catalog_enquiry_front.error_levels.email_required;document.getElementById("woocommerce-user-email").focus();return false}if(!validateEmail(r)){document.getElementById("msg-for-enquiry-error").innerHTML=catalog_enquiry_front.error_levels.email_valid;document.getElementById("woocommerce-user-email").focus();return false}if(typeof catalog_enquiry_front.settings_gen.form_captcha!="undefined"&&typeof catalog_enquiry_front.settings_gen.form_captcha.is_enable!="undefined"&&catalog_enquiry_front.settings_gen.form_captcha.is_enable!==null&&catalog_enquiry_front.settings_gen.form_captcha.is_enable=="Enable"){if(_.value==""||_.value==" "){document.getElementById("msg-for-enquiry-error").innerHTML=catalog_enquiry_front.error_levels.captcha_required;document.getElementById("woocommerce-catalog-captcha").focus();return false}if(_.value!=catalog_enquiry_front.captcha){document.getElementById("msg-for-enquiry-error").innerHTML=catalog_enquiry_front.error_levels.captcha_valid;document.getElementById("woocommerce-catalog-captcha").focus();return false}}v(p("#responsive"));jQuery("#loader-after-sumitting-the-form").show();jQuery("#msg-for-enquiry-error").html("");var y=catalog_enquiry_front.ajaxurl;if(i.indexOf("fileupload")!=-1){m.append("action","send_enquiry_mail");m.append("wc_catalog_enq",o);m.append("woocommerce_customer_name",e);m.append("woocommerce_customer_email",r);m.append("woocommerce_customer_subject",n);m.append("woocommerce_customer_phone",a);m.append("woocommerce_customer_address",c);m.append("woocommerce_customer_comment",u);m.append("woocommerce_customer_product_name",l);m.append("woocommerce_customer_product_url",d);m.append("woocommerce_customer_product_id",f);m.append("enquiry_product_type",t);jQuery.ajax({type:"post",url:y,data:m,contentType:false,cache:false,processData:false,success:function(e){w(p("#responsive"));if(e.status==1){jQuery("#loader-after-sumitting-the-form").hide();jQuery("#msg-for-enquiry-sucesss").html("");jQuery("#msg-for-enquiry-sucesss").html(catalog_enquiry_front.ajax_success_msg);jQuery("#woocommerce-user-name").val("");jQuery("#woocommerce-user-email").val("");jQuery("#woocommerce-catalog-captcha").val("");if(i.indexOf("subject")!=-1){jQuery("#woocommerce-user-subject").val("")}if(i.indexOf("phone")!=-1){jQuery("#woocommerce-user-phone").val("")}if(i.indexOf("address")!=-1){jQuery("#woocommerce-user-address").val("")}if(i.indexOf("comment")!=-1){jQuery("#woocommerce-user-comment").val("")}if(i.indexOf("fileupload")!=-1){jQuery("#woocommerce-user-fileupload").val("")}if(typeof catalog_enquiry_front.settings.is_page_redirect!="undefined"&&catalog_enquiry_front.settings_gen.is_page_redirect!==null){window.location.href=catalog_enquiry_front.redirect_link}}else if(e.status==2){jQuery("#loader-after-sumitting-the-form").hide();jQuery("#msg-for-enquiry-sucesss").html("");jQuery("#msg-for-enquiry-error").html(catalog_enquiry_front.error_levels.filetype_error)}else if(e.status==3){jQuery("#loader-after-sumitting-the-form").hide();jQuery("#msg-for-enquiry-sucesss").html("");jQuery("#msg-for-enquiry-error").html(catalog_enquiry_front.error_levels.filesize_error)}else{jQuery("#loader-after-sumitting-the-form").hide();jQuery("#msg-for-enquiry-sucesss").html("");if(e.error_report!=""){jQuery("#msg-for-enquiry-error").html(e.error_report)}else{jQuery("#msg-for-enquiry-error").html(catalog_enquiry_front.error_levels.ajax_error)}}}})}else{var g={action:"send_enquiry_mail",wc_catalog_enq:o,woocommerce_customer_name:e,woocommerce_customer_email:r,woocommerce_customer_subject:n,woocommerce_customer_phone:a,woocommerce_customer_address:c,woocommerce_customer_comment:u,woocommerce_customer_product_name:l,woocommerce_customer_product_url:d,woocommerce_customer_product_id:f,enquiry_product_type:t};jQuery.post(y,g,function(e){w(p("#responsive"));if(e.status==1){jQuery("#loader-after-sumitting-the-form").hide();jQuery("#msg-for-enquiry-sucesss").html("");jQuery("#msg-for-enquiry-sucesss").html(catalog_enquiry_front.ajax_success_msg);jQuery("#woocommerce-user-name").val("");jQuery("#woocommerce-user-email").val("");jQuery("#woocommerce-catalog-captcha").val("");if(i.indexOf("subject")!=-1){jQuery("#woocommerce-user-subject").val("")}if(i.indexOf("phone")!=-1){jQuery("#woocommerce-user-phone").val("")}if(i.indexOf("address")!=-1){jQuery("#woocommerce-user-address").val("")}if(i.indexOf("comment")!=-1){jQuery("#woocommerce-user-comment").val("")}if(typeof catalog_enquiry_front.settings.is_page_redirect!="undefined"&&catalog_enquiry_front.settings_gen.is_page_redirect!==null){window.location.href=catalog_enquiry_front.redirect_link}}else if(e.status==2){jQuery("#loader-after-sumitting-the-form").hide();jQuery("#msg-for-enquiry-sucesss").html("");jQuery("#msg-for-enquiry-error").html(catalog_enquiry_front.error_levels.filetype_error)}else if(e.status==3){jQuery("#loader-after-sumitting-the-form").hide();jQuery("#msg-for-enquiry-sucesss").html("");jQuery("#msg-for-enquiry-error").html(catalog_enquiry_front.error_levels.filesize_error)}else{jQuery("#loader-after-sumitting-the-form").hide();jQuery("#msg-for-enquiry-sucesss").html("");if(e.error_report!=""){jQuery("#msg-for-enquiry-error").html(e.error_report)}else{jQuery("#msg-for-enquiry-error").html(catalog_enquiry_front.error_levels.ajax_error)}}})}});var o=document.getElementById("responsive");window.onclick=function(e){if(e.target==o){o.style.display="none"}}});function validateEmail(e){var r=/^([\w-\.]+@([\w-]+\.)+[\w-]{2,4})?$/;return r.test(e)}